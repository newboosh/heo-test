# Monitoring Report Template
# Phase 12: Post-Merge Monitoring (SRE / Operations)
#
# Real signals collected after merge via gh CLI, pytest, pip-audit.
# Every data point comes from a measurable, reproducible source.
#
# NOTE: Monitoring data lives under 'collected_signals' (not 'signals')
# to avoid naming conflict with the handoff envelope signals block.

# --- Handoff envelope (standard for all 13 phases) ---
phase: 12
phase_name: monitoring
role: sre
status: complete
timestamp: "2026-01-28T00:00:00Z"
depends_on: merge
_schema_version: "1.0"

summary: |
  Post-merge monitoring complete. System healthy.

outputs:
  - .sprint/monitoring-report.yaml

open_issues: []

signals:
  pass: true
  confidence: high
  blockers: []

# --- Phase-specific body ---

# Merge context from Phase 11
merge_context:
  pr_number: 42
  pr_url: "https://github.com/org/repo/pull/42"
  merge_commit: "abc123def456"
  target_branch: main

# Collected monitoring data (renamed from 'signals' to avoid envelope conflict)
collected_signals:
  build:
    status: success
    duration_seconds: 120
    compared_to_average: normal  # faster | normal | slower | unknown

  tests:
    total: 42
    passing: 42
    failing: 0
    skipped: 0
    new_tests_added: 4
    flaky_tests: []

  coverage:
    current: 87
    previous: 85
    delta: "+2"
    trend: improving  # improving | stable | declining | unknown
    uncovered_critical_paths: []

  errors:
    new_errors_in_ci: 0
    error_types: []

  performance:
    build_time_delta: 0
    test_time_delta: 0

  dependencies:
    new_vulnerabilities: 0
    outdated_packages: 0

# REQUIRED: Health assessment
health_assessment:
  overall: healthy  # healthy | warning | degraded
  concerns: []
  improvements:
    - "Coverage improved from 85% to 87%"

# Actionable items for downstream phases
actionable_items: []
