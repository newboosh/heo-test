# Sprint Input Template
# Phase 1: Intake
#
# This captures the developer's initial requirements in a structured format.
# All fields are optional except 'what' - include what you know.

# --- Handoff envelope (standard for all 13 phases) ---
phase: 1
phase_name: intake
role: developer
status: complete
timestamp: "2026-01-28T00:00:00Z"
depends_on: null  # Phase 1 has no predecessor
_schema_version: "1.0"

summary: |
  Captured developer requirements for the sprint.

# --- Phase-specific body ---

# REQUIRED: What functionality are you building?
what: |
  Description of the feature, fix, or change.
  Be specific about the desired outcome.

# Why is this needed? What problem does it solve?
why: |
  Business value or user problem being addressed.
  Include any metrics or goals if known.

# Who will use this?
who:
  primary: "Main user type (e.g., 'authenticated users', 'admins')"
  secondary: "Other affected users (optional)"

# Known constraints
constraints:
  time: "Any deadline or time constraint"
  technical:
    - "Must use existing auth system"
    - "Cannot add new dependencies"
  scope:
    - "Only affects API, not UI"
    - "Must be backwards compatible"

# Existing context
context:
  existing_systems:
    - name: "System/service name"
      relevance: "How it relates"
  related_files:
    - "src/services/relevant_service.py"
    - "src/api/endpoints/**"
  prior_art:
    - "Similar feature or pattern in codebase"
  notes: |
    Any additional context the developer wants to provide.

# --- Triage results (auto-populated by Phase 1 Step 0a) ---
# Records how the velocity mode was determined. Always present in new sprints.
triage:
  # Classification of the request
  classification: medium  # minor | medium | major

  # The velocity mode that will govern the sprint
  resolved_mode: autonomous  # autonomous | attended

  # How the mode was determined
  mode_source: auto_detected  # auto_detected | explicit_override

  signals:
    # Was the request well-defined?
    clarity: clear  # clear | vague

    # How many files are likely affected?
    scope:
      level: medium_scope  # minor_scope | medium_scope | major_scope
      file_count: 3
      matched_files:
        - "src/services/relevant_service.py"
        - "src/api/endpoints/relevant.py"
        - "src/models/relevant_model.py"

    # What kind of change is this?
    novelty: new_feature  # patch | new_feature | structural

    # Does this touch a sensitive domain?
    domain_risk: false
    domain_risk_domains: []

  rationale: |
    Medium classification: 3 files affected, new feature request with clear scope.
    Auto-resolved to autonomous mode.

# --- Standard handoff footer ---
outputs:
  - .sprint/input.yaml

open_issues: []

signals:
  pass: true
  confidence: high
  blockers: []
